@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* ═══════════════════════════════════════════════════════════════
       LIGHT MODE - Apple Liquid Glass Palette (Enhanced)
       ═══════════════════════════════════════════════════════════════ */

    /* Core colors - warmer background for better contrast */
    --background: 220 14% 96%;
    --background-secondary: 0 0% 100%;
    --foreground: 220 20% 14%;
    --foreground-secondary: 220 10% 45%;

    /* Card & Popover - more opaque for better visibility */
    --card: 0 0% 100% / 0.85;
    --card-foreground: 220 20% 14%;
    --popover: 0 0% 100% / 0.90;
    --popover-foreground: 220 20% 14%;

    /* Primary (accent) */
    --primary: 211 100% 50%;
    --primary-foreground: 0 0% 100%;

    /* Secondary */
    --secondary: 220 14% 92%;
    --secondary-foreground: 220 20% 14%;

    /* Muted */
    --muted: 220 14% 92%;
    --muted-foreground: 220 10% 45%;

    /* Accent - Apple Blue */
    --accent: 211 100% 50%;
    --accent-foreground: 0 0% 100%;

    /* Destructive */
    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 100%;

    /* Borders & Input - more visible borders */
    --border: 220 14% 86%;
    --input: 220 14% 86%;
    --ring: 211 100% 50%;
    --radius: 1rem;

    /* Glass Effect Variables - enhanced for light mode */
    --glass-bg: 0 0% 100% / 0.80;
    --glass-border: 220 14% 86%;
    --glass-blur-subtle: 8px;
    --glass-blur-default: 12px;
    --glass-blur-bold: 20px;
    --glass-shadow: 0 4px 24px rgba(0, 0, 0, 0.06), 0 1px 2px rgba(0, 0, 0, 0.04);

    /* Transitions */
    --transition-fast: 150ms;
    --transition-default: 200ms;
    --transition-slow: 300ms;

    /* Chart colors - neutral with accent */
    --chart-1: 211 100% 50%;
    --chart-2: 211 80% 60%;
    --chart-3: 211 60% 70%;
    --chart-4: 220 10% 55%;
    --chart-5: 220 10% 35%;
  }

  .dark {
    /* ═══════════════════════════════════════════════════════════════
       DARK MODE - Apple Liquid Glass Palette
       ═══════════════════════════════════════════════════════════════ */

    /* Core colors */
    --background: 0 0% 0%;
    --background-secondary: 0 0% 11%;
    --foreground: 0 0% 96%;
    --foreground-secondary: 0 0% 60%;

    /* Card & Popover */
    --card: 0 0% 11% / 0.5;
    --card-foreground: 0 0% 96%;
    --popover: 0 0% 11% / 0.6;
    --popover-foreground: 0 0% 96%;

    /* Primary (accent) - brighter for dark mode */
    --primary: 211 100% 55%;
    --primary-foreground: 0 0% 100%;

    /* Secondary */
    --secondary: 0 0% 15%;
    --secondary-foreground: 0 0% 96%;

    /* Muted */
    --muted: 0 0% 15%;
    --muted-foreground: 0 0% 60%;

    /* Accent - Apple Blue (dark mode variant) */
    --accent: 211 100% 55%;
    --accent-foreground: 0 0% 100%;

    /* Destructive */
    --destructive: 0 62% 50%;
    --destructive-foreground: 0 0% 100%;

    /* Borders & Input */
    --border: 0 0% 100% / 0.08;
    --input: 0 0% 100% / 0.08;
    --ring: 211 100% 55%;

    /* Glass Effect Variables - Dark Mode */
    --glass-bg: 0 0% 11% / 0.5;
    --glass-border: 0 0% 100% / 0.12;
    --glass-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);

    /* Chart colors - neutral with accent */
    --chart-1: 211 100% 55%;
    --chart-2: 211 80% 65%;
    --chart-3: 211 60% 75%;
    --chart-4: 0 0% 50%;
    --chart-5: 0 0% 70%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground font-sans;
    /* Clean neutral background - Apple Liquid Glass style */
  }
}

@layer components {
  /* ═══════════════════════════════════════════════════════════════
     GLASS UTILITY CLASSES - Apple Liquid Glass Style
     ═══════════════════════════════════════════════════════════════ */

  /* Glass card base style (default) */
  .glass {
    background: hsl(var(--glass-bg));
    backdrop-filter: blur(var(--glass-blur-default));
    -webkit-backdrop-filter: blur(var(--glass-blur-default));
    border: 1px solid hsl(var(--glass-border));
    box-shadow: var(--glass-shadow);
  }

  /* Subtle glass variant - for small elements, pills, buttons */
  .glass-subtle {
    background: hsl(var(--glass-bg));
    backdrop-filter: blur(var(--glass-blur-subtle));
    -webkit-backdrop-filter: blur(var(--glass-blur-subtle));
    border: 1px solid hsl(var(--glass-border));
  }

  /* Bold glass variant - for headers, modals, prominent panels */
  .glass-bold {
    background: hsl(var(--glass-bg));
    backdrop-filter: blur(var(--glass-blur-bold));
    -webkit-backdrop-filter: blur(var(--glass-blur-bold));
    border: 1px solid hsl(var(--glass-border));
    box-shadow: var(--glass-shadow);
  }

  /* Glass hover effect */
  .glass-hover {
    transition: box-shadow var(--transition-default) ease-out;
  }

  .glass-hover:hover {
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.10), 0 2px 4px rgba(0, 0, 0, 0.05);
  }

  .dark .glass-hover:hover {
    box-shadow: 0 12px 40px rgba(0, 0, 0, 0.5);
  }

  /* ═══════════════════════════════════════════════════════════════
     FALLBACK STYLES - for browsers without backdrop-filter support
     ═══════════════════════════════════════════════════════════════ */

  @supports not (backdrop-filter: blur(1px)) {
    .glass,
    .glass-subtle,
    .glass-bold {
      background: hsl(0 0% 100% / 0.95);
    }

    .dark .glass,
    .dark .glass-subtle,
    .dark .glass-bold {
      background: hsl(0 0% 11% / 0.90);
    }
  }

  /* ═══════════════════════════════════════════════════════════════
     REDUCED MOTION - accessibility support
     ═══════════════════════════════════════════════════════════════ */

  @media (prefers-reduced-motion: reduce) {
    .glass-hover {
      transition: none;
    }
  }

  /* ═══════════════════════════════════════════════════════════════
     LEGACY UTILITIES - kept for backward compatibility
     ═══════════════════════════════════════════════════════════════ */

  /* Gradient text - now uses accent color */
  .text-gradient {
    @apply bg-clip-text text-transparent;
    background-image: linear-gradient(
      135deg,
      hsl(var(--accent)),
      hsl(var(--accent) / 0.7)
    );
  }

  /* Glow effect - using accent */
  .glow {
    box-shadow:
      0 0 20px hsl(var(--accent) / 0.3),
      0 0 40px hsl(var(--accent) / 0.2),
      0 0 60px hsl(var(--accent) / 0.1);
  }
}
